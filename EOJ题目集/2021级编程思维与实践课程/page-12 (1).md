# ğŸ’š 1017. ç½—é©¬æ•°å­—

**å•ç‚¹æ—¶é™:** 2.0 sec

**å†…å­˜é™åˆ¶:** 512 MB

ç½—é©¬æ•°å­—æ˜¯å¤ç½—é©¬ä½¿ç”¨çš„è®°æ•°ç³»ç»Ÿï¼Œç°ä»Šä»å¾ˆå¸¸è§ã€‚ ç½—é©¬æ•°å­—æœ‰ä¸ƒä¸ªåŸºæœ¬ç¬¦å·ï¼š`I` ã€`V`ã€`X`ã€`L`ã€`C`ã€`D`ã€`M`ã€‚

|   ç½—é©¬æ•°å­—   |  I  |  V  |  X  |  L  |  C  |  D  |   M  |
| :------: | :-: | :-: | :-: | :-: | :-: | :-: | :--: |
| å¯¹åº”çš„é˜¿æ‹‰ä¼¯æ•°å­— |  1  |  5  |  10 |  50 | 100 | 500 | 1000 |

éœ€è¦æ³¨æ„çš„æ˜¯ç½—é©¬æ•°å­—ä¸åè¿›ä½æ•°å­—çš„æ„ä¹‰ä¸åŒï¼Œå®ƒæ²¡æœ‰è¡¨ç¤ºé›¶çš„æ•°å­—ï¼Œä¸è¿›ä½åˆ¶æ— å…³ã€‚ æŒ‰ç…§ä¸‹è¿°çš„è§„åˆ™å¯ä»¥è¡¨ç¤ºä»»æ„æ­£æ•´æ•°ã€‚

**â€œæ ‡å‡†â€å½¢å¼**

**é‡å¤æ•°æ¬¡**ï¼šä¸€ä¸ªç½—é©¬æ•°å­—é‡å¤å‡ æ¬¡ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªæ•°çš„å‡ å€ã€‚\
**å³åŠ å·¦å‡**ï¼š

* åœ¨è¾ƒå¤§çš„ç½—é©¬æ•°å­—çš„å³è¾¹è®°ä¸Šè¾ƒå°çš„ç½—é©¬æ•°å­—ï¼Œè¡¨ç¤ºå¤§æ•°å­—åŠ å°æ•°å­—ã€‚
* åœ¨è¾ƒå¤§çš„ç½—é©¬æ•°å­—çš„å·¦è¾¹è®°ä¸Šè¾ƒå°çš„ç½—é©¬æ•°å­—ï¼Œè¡¨ç¤ºå¤§æ•°å­—å‡å°æ•°å­—ã€‚
* å·¦å‡çš„æ•°å­—æœ‰é™åˆ¶ï¼Œä»…é™äº `I`ã€`X`ã€`C`ã€‚ä¾‹å¦‚ï¼Œ$$45$$ è¡¨ç¤ºä¸º `XLV`ï¼Œè€Œä¸æ˜¯ `VL`ã€‚
* å·¦å‡æ—¶ä¸å¯è·¨è¶Šä¸€ä¸ªä½å€¼ã€‚ä¾‹å¦‚ï¼Œ$$99$$ æ˜¯ `XCIX`( $$[100âˆ’10]+[10âˆ’1]$$)ï¼Œè€Œä¸æ˜¯ `IC`($$[100âˆ’1]$$)ã€‚ç­‰åŒäºé˜¿æ‹‰ä¼¯æ•°å­—æ¯ä½æ•°å­—åˆ†åˆ«è¡¨ç¤ºã€‚
* å·¦å‡æ•°å­—å¿…é¡»ä¸ºä¸€ä½ï¼Œæ¯”å¦‚$$8$$ æ˜¯ `VIII` , è€Œä¸ç”¨ `IIX`ã€‚
* ç½—é©¬æ•°å­— `V`ã€`L`ã€`D` ä¸­çš„ä»»ä½•ä¸€ä¸ªæ”¾åœ¨è¾ƒå¤§çš„ç½—é©¬æ•°å­—å³è¾¹åªèƒ½ä½¿ç”¨ä¸€ä¸ªã€‚

**åŠ æ•°ä¹˜åƒ**ï¼šåœ¨ç½—é©¬æ•°å­—çš„ä¸Šæ–¹åŠ ä¸Šä¸€æ¡æ¨ªçº¿ï¼Œè¡¨ç¤ºå°†è¿™ä¸ªæ•°ä¹˜ä»¥ $$1000$$ï¼Œå³æ˜¯åŸæ•°çš„$$1000$$ å€ã€‚åŒç†ï¼Œå¦‚æœä¸Šæ–¹æœ‰ä¸¤æ¡æ¨ªçº¿ï¼Œå³æ˜¯åŸæ•°çš„ $$1000000$$ã€‚

ç°åœ¨ç»™å‡ºä¸€ä¸ªç½—é©¬æ•°ï¼Œè¾“å‡ºå…¶å¯¹åº”çš„é˜¿æ‹‰ä¼¯æ•°ã€‚æ³¨æ„ï¼Œç½—é©¬æ•°å­—ä¸Šé¢çš„ä¸€æ¡æ¨ªçº¿ï¼Œç”¨æ‹¬å·è¡¨ç¤ºã€‚å¦‚æœæœ‰ä¸¤æ¡æ¨ªçº¿ï¼Œåˆ™ç”¨ä¸¤ä¸ªæ‹¬å·è¡¨ç¤ºã€‚å…·ä½“è§è¾“å…¥æ ·ä¾‹ã€‚

### è¾“å…¥æ ¼å¼

è¾“å…¥åŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºç»™å‡ºçš„ç½—é©¬æ•°ã€‚

### è¾“å‡ºæ ¼å¼

è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç­”æ¡ˆã€‚

### æ ·ä¾‹

{% tabs %}
{% tab title="æ ·ä¾‹1" %}
{% code title="input" %}
```
III
```
{% endcode %}

{% code title="output" %}
```
3
```
{% endcode %}
{% endtab %}

{% tab title="æ ·ä¾‹2" %}
{% code title="input" %}
```
CXCIX
```
{% endcode %}

{% code title="output" %}
```
199
```
{% endcode %}
{% endtab %}

{% tab title="æ ·ä¾‹3" %}
{% code title="input" %}
```
CCCXCV
```
{% endcode %}

{% code title="output" %}
```
395
```
{% endcode %}
{% endtab %}

{% tab title="æ ·ä¾‹4" %}
{% code title="input" %}
```
MMMCCCXXXIII
```
{% endcode %}

{% code title="output" %}
```
3333
```
{% endcode %}
{% endtab %}

{% tab title="æ ·ä¾‹5" %}
{% code title="input" %}
```
M(V)
```
{% endcode %}

{% code title="output" %}
```
4000
```
{% endcode %}
{% endtab %}

{% tab title="æ ·ä¾‹6" %}
{% code title="input" %}
```
((VI))
```
{% endcode %}

{% code title="output" %}
```
6000000
```
{% endcode %}


{% endtab %}
{% endtabs %}

{% hint style="info" %}
**æ•°æ®èŒƒå›´**

å¯¹äºæ‰€æœ‰æ•°æ®ï¼Œä¿è¯è¾“å‡ºçš„ç­”æ¡ˆåœ¨ $$[1,10^{18}]$$ èŒƒå›´å†…ï¼Œä¸”è¾“å…¥çš„å­—ç¬¦ä¸²é•¿åº¦$$â‰¤50$$ã€‚

20åˆ†æ•°ï¼Œè¯ä¸å­˜åœ¨å·¦å‡çš„æƒ…å†µ

40åˆ†æ•°ï¼Œä¿è¯ä¸å­˜åœ¨åŠ æ•°ä¹˜åƒçš„æƒ…å†µ

40åˆ†æ•°ï¼Œæ²¡æœ‰ç‰¹æ®Šé™åˆ¶
{% endhint %}

### é¢˜è§£

{% code lineNumbers="true" %}
```c
#include <stdio.h>
#include <ctype.h>
#include <string.h>

typedef long long int lli;

int ReadRoman(char c)
{
	int ret;
	switch(c){
		case 'I':	ret = 1;	break;
		case 'V':	ret = 5;	break;
		case 'X':	ret = 10;	break;
		case 'L':	ret = 50;	break;
		case 'C':	ret = 100;	break;
		case 'D':	ret = 500;	break;
		case 'M':	ret = 1000;	break;
	}
	
	return ret;
}

int isMinus(lli n)
{
	int ret = 0;
	if(n == 1 || n % 5 == 0){
		ret = 1;
	}
	
	return ret;
}

int main(void)
{
	char s[60];
	lli num[60], index = 0, multi = 1, temp = 0, res = 0;
	scanf("%s", s);
	char *p = s; 
	while(*p){
		if(isalpha(*p)){
			num[index ++] = ReadRoman(*p) * multi;
		}else if(*p == '('){
			multi *= 1000;
		}else if(*p == ')'){
			multi /= 1000;
		}
		p ++;
	}
	for(int i = 0 ; i < index; i++){
		if(i != index - 1 && isMinus(num[i]) && num[i] < num[i + 1]){
			res -= num[i];
		}else{
			res += num[i];
		}
	}
	printf("%lld", res);
	
	
	return 0;
}
```
{% endcode %}

