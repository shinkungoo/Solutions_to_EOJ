# ğŸ§¡ 1045. å­—ä¸²å˜æ¢

**å•ç‚¹æ—¶é™:** 10.0 sec

**å†…å­˜é™åˆ¶:** 512 MB

å‡è®¾å¯¹ä¸€ä¸ªå­—ç¬¦ä¸²å¯è¿›è¡Œä»¥ä¸‹ä¸¤ç§ç±»å‹çš„å˜æ¢ï¼š

1. å¯¹å­—ä¸²ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦è¿›è¡Œå¤åˆ¶ã€‚ä¾‹å¦‚ï¼š`xyz` å¤åˆ¶å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ `y` å˜ä¸º `xyyz`ã€‚
2. å¯¹å­—ä¸²ä¸­çš„ç›¸é‚»çš„ä¸¤ä¸ªç›¸åŒå­—ç¬¦åˆ é™¤å…¶ä¸­ä¸€ä¸ªã€‚ä¾‹å¦‚ï¼š`xxyz` åˆ é™¤å…¶ä¸­ä¸€ä¸ªå­—ç¬¦ `x` å˜ä¸º `xyz`ã€‚

ç°åœ¨ç»™å‡º$$n$$ ä¸ªå­—ç¬¦ä¸²ï¼Œè®¡ç®—æœ€å°‘éœ€è¦å‡ æ¬¡ä»¥ä¸Šå˜æ¢æ‰èƒ½ä½¿å¾—è¿™ $$n$$ ä¸ªå­—ç¬¦ä¸²éƒ½å˜å¾—ç›¸åŒã€‚

### è¾“å…¥æ ¼å¼

ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° $$n$$ã€‚

æ¥ä¸‹æ¥ $$n$$ è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”±å°å†™å­—æ¯ç»„æˆï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸è¶…è¿‡ $$100$$ã€‚

* å¯¹äº$$50%$$ çš„æ•°æ®ï¼Œ$$1â‰¤nâ‰¤100$$ï¼›
* å¯¹äº $$100%$$çš„æ•°æ®ï¼Œ$$1â‰¤nâ‰¤10^5$$ã€‚

### è¾“å‡ºæ ¼å¼

åœ¨æ¯ä¸€è¡Œä¸­è¾“å‡ºæ‰€éœ€è¦çš„æœ€å°å˜æ¢æ¬¡æ•°ã€‚å¦‚æœä¸å¯èƒ½è¾¾æˆç›®æ ‡ï¼Œåˆ™è¾“å‡º$$âˆ’1$$ã€‚

### æ ·ä¾‹

{% tabs %}
{% tab title="æ ·ä¾‹1" %}
{% code title="input" %}
```
2
abc
bac
```
{% endcode %}

{% code title="output" %}
```
-1
```
{% endcode %}
{% endtab %}

{% tab title="æ ·ä¾‹2" %}
{% code title="input" %}
```
3
aaabbb
ab
aabb
```
{% endcode %}

{% code title="output" %}
```
4
```
{% endcode %}
{% endtab %}

{% tab title="æ ·ä¾‹3" %}
{% code title="input" %}
```
3
aabbcc
aabbcc
aabbcc
```
{% endcode %}

{% code title="output" %}
```
0
```
{% endcode %}


{% endtab %}
{% endtabs %}

### é¢˜è§£

{% code lineNumbers="true" %}
```c
#include <stdio.h> 
#include <string.h>
#include <math.h>
#include <stdlib.h>

typedef struct{
	char s[110];
	char min_s[110];
	int frequency[110];
}Str;

void CreateMin(char ms[], char s[])
{
	char *ps1 = s, *ps2 = s, *pms = ms;
	while(*ps2){
		if(*ps2 != *ps1){
			*pms = *ps1;
			ps1 = ps2;
			pms ++;
		}else{
			ps2 ++;
		}
	}
	*pms = *ps1;
	pms ++;
	*pms = '\0';
}

void CountFrequency(int f[], char s[])
{
	char *ps1 = s, *ps2 = s;
	int index = 0, count = 0;
	while(*ps2){
		if(*ps2 != *ps1){
			f[index ++] = count;
			ps1 = ps2;
			count = 0;
		}else{
			count ++;
			ps2 ++;
		}
	}
	f[index ++] = count;
}

int cmp(const void *a, const void *b)
{
	return *(int *)a - *(int *)b;
}

int main(void)
{
	int n;
	scanf("%d", &n);
	Str in[n];
	int MiddleFrequency[110] = {0, }, temp[n];
	int isValid = 1, step = 0;
	for(int i = 0; i < n ; i ++){
		scanf("%s", in[i].s);
		CreateMin(in[i].min_s, in[i].s);
		memset(in[i].frequency, 0, sizeof(in[i].frequency));
		CountFrequency(in[i].frequency, in[i].s);
	}
	for(int i = 0 ; i < 110 ; i ++){
		for(int j = 0 ; j < n; j ++){
			temp[j] = in[j].frequency[i];
		}
		qsort(temp, n, sizeof(int), cmp);
		if(n % 2 == 0){
			MiddleFrequency[i] = (temp [ n / 2] + temp[n / 2 - 1]) / 2;
		}else{
			MiddleFrequency[i] = temp[n / 2];
		}
	}
	
	for(int i = 0; i < n ;i ++){
		if(i != 0 && strcmp(in[0].min_s, in[i].min_s) != 0){
			isValid = 0;
			break;
		}
		for(int j = 0 ; j < 110 ; j ++){
			step += abs(in[i].frequency[j] - MiddleFrequency[j]);
		}
	}
	if(isValid){
		printf("%d", step);
	}else{
		printf("-1");
	}
	
	return 0;
}
```
{% endcode %}
