# ğŸ’š 1040. è¡€å‹åˆ¤æ–­ II

**å•ç‚¹æ—¶é™:** 2.0 sec

**å†…å­˜é™åˆ¶:** 512 MB

ABOè¡€å‹ç³»ç»Ÿæ˜¯äººç±»æœ€æ—©è®¤è¯†ä¹Ÿæ˜¯æœ€ä¸ºé‡è¦çš„è¡€å‹ç³»ç»Ÿï¼Œä¸äººç±»è¾“è¡€æ—¶å‘ç”Ÿçš„æº¶è¡€ååº”å¯†åˆ‡ç›¸å…³ï¼Œå…·æœ‰é‡è¦çš„ä¸´åºŠæ„ä¹‰ã€‚è¯¥è¡€å‹ç³»ç»Ÿæ˜¯ç”±ç”¨Aã€Bã€Oæ ‡è®°çš„ç­‰ä½åŸºå› å†³å®šã€‚æ¯ä¸ªäººçš„è¡€å‹é‡Œæœ‰ä¸¤ä¸ªè¢«ç§°ä¸ºABOçš„ç­‰ä½åŸºå› ã€‚Aã€Bã€O 3ç§ç­‰ä½åŸºå› æœ‰6ä¸ªå¯èƒ½çš„ç»„åˆï¼Œæ¯ä¸ªç»„åˆå†³å®šä¸€ä¸ªäººçš„ABOè¡€å‹ï¼š

| ç­‰ä½åŸºå› ç»„åˆ | ABOè¡€å‹ |
| ------ | ----- |
| AA     | A     |
| AB     | AB    |
| AO     | A     |
| BB     | B     |
| BO     | B     |
| OO     | O     |

è¡€å‹æ˜¯é€šè¿‡é—ä¼ è·å¾—çš„ã€‚æ¯ä¸ªç”Ÿç†ä¸Šçš„çˆ¶æ¯è´¡çŒ®ä¸€ä¸ª`ABO`ç­‰ä½åŸºå› ï¼ˆéšæœºåœ°ä»ä»–ä»¬è‡ªå·±çš„ä¸¤ä¸ªç­‰ä½åŸºå› ä¸­æŒ‘é€‰ä¸€ä¸ªï¼‰ç»™ä»–ä»¬çš„å­©å­ã€‚

å‡å¦‚ï¼Œçˆ¶æ¯åŒæ–¹çš„è¡€å‹éƒ½æ˜¯`A`ï¼Œåˆ™ä»–ä»¬çš„å­©å­çš„è¡€å‹å¯èƒ½æ˜¯`A`æˆ–`O`ã€‚

| Aè¡€å‹çš„ç­‰ä½åŸºå›  | Aè¡€å‹çš„ç­‰ä½åŸºå›  | å­©å­å¯èƒ½çš„è¡€å‹     |
| -------- | -------- | ----------- |
| AA       | AA       | A(AA)       |
| AO       | AO       | A(AO)ï¼ŒO(OO) |

å¦‚æœçˆ¶æ¯åŒæ–¹çš„è¡€å‹ä¸º`A`å’Œ`B`ï¼Œé‚£ä¹ˆä»–ä»¬çš„å­©å­çš„è¡€å‹å¯ä»¥æ˜¯ä»»ä½•ä¸€ç§ã€‚

| Aè¡€å‹çš„ç­‰ä½åŸºå›  | Bè¡€å‹çš„ç­‰ä½åŸºå›  |          å­©å­å¯èƒ½çš„è¡€å‹         |
| -------- | -------- | :----------------------: |
| AA       | BB       |          AB(AB)          |
| AO       | BO       | AB(AB)ï¼ŒA(AO)ï¼ŒB(BO)ï¼ŒO(OO) |

ç°ç»™å®šçˆ¶æ¯åŒæ–¹çš„è¡€å‹ï¼Œè¦æ±‚ç¡®å®šå­©å­çš„å¯èƒ½è¡€å‹é›†åˆï¼Œæˆ–è€…ç»™å®šçˆ¶æ¯ä¸­æŸä¸€æ–¹å’Œå­©å­çš„è¡€å‹ï¼Œè¦æ±‚ç¡®å®šçˆ¶æ¯å¦ä¸€æ–¹çš„å¯èƒ½è¡€å‹é›†åˆï¼ˆå¯èƒ½ä¸ºç©ºé›†ï¼‰ã€‚

### è¾“å…¥æ ¼å¼

åœ¨ä¸€è¡Œä¸­è¾“å…¥ä¸‰ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ†åˆ«è¡¨ç¤ºçˆ¶äº²çš„è¡€å‹ã€æ¯äº²è¡€å‹å’Œå­©å­çš„è¡€å‹ã€‚å¯¹äºå¾…ç¡®å®šçš„è¡€å‹ç”¨é—®å·`?`è¡¨ç¤ºã€‚å­—ç¬¦ä¸²ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼åˆ†éš”ã€‚

### è¾“å‡ºæ ¼å¼

åœ¨ä¸€è¡Œä¸­è¾“å‡ºçˆ¶äº²ã€æ¯äº²å’Œå­©å­çš„è¡€å‹ï¼Œä¸­é—´ç”¨ä¸€ä¸ªç©ºåˆ†åˆ†éš”ã€‚å¦‚æœçˆ¶æ¯ä¸­æŸä¸€æ–¹æ²¡æœ‰ä¸€ä¸ªå¯èƒ½çš„è¡€å‹ï¼Œåˆ™å¯¹åº”è¾“å‡º`impossible`ï¼Œå¦‚æœçˆ¶æ¯æˆ–å­©å­æœ‰å¤šç§å¯èƒ½çš„è¡€å‹ï¼Œåˆ™è¾“å‡ºæ‰€æœ‰å¯èƒ½çš„è¡€å‹é›†åˆï¼Œå¹¶ä»¥ä¸€ä¸ªèŠ±æ‹¬å·å°†æ‰€æœ‰å¯èƒ½çš„è¡€å‹æ‹¬èµ·æ¥ã€‚èŠ±æ‹¬å·ä¸­çš„è¡€å‹çš„é¡ºåºæŒ‰å­—å…¸åºå‡åºæ’åˆ—ï¼Œä¸­é—´ç”¨ä¸€ä¸ªé€—å·åˆ†éš”ã€‚

### æ ·ä¾‹

{% tabs %}
{% tab title="æ ·ä¾‹1" %}
{% code title="input" %}
```
A A ?
```
{% endcode %}

{% code title="output" %}
```
A A {A,O}
```
{% endcode %}
{% endtab %}

{% tab title="æ ·ä¾‹2" %}
{% code title="input" %}
```
AB ? O
```
{% endcode %}

{% code title="output" %}
```
AB impossible O
```
{% endcode %}
{% endtab %}

{% tab title="æ ·ä¾‹3" %}
{% code title="input" %}
```
O O ?
```
{% endcode %}

{% code title="output" %}
```
O O {O}
```
{% endcode %}


{% endtab %}
{% endtabs %}

### é¢˜è§£

{% code lineNumbers="true" %}
```c
#include <stdio.h>
#include <string.h>

void PrintPhenotype(char f[], char m[])
{
	if(strcmp(f, "A") == 0 && strcmp(m, "A") == 0){
		printf("{A,O}");
	}else if(strcmp(f, "A") == 0 && strcmp(m, "B") == 0){
		printf("{A,AB,B,O}");
	}else if(strcmp(f, "B") == 0 && strcmp(m, "A") == 0){
		printf("{A,AB,B,O}");
	}else if(strcmp(f, "B") == 0 && strcmp(m, "B") == 0){
		printf("{B,O}");
	}else if(strcmp(f, "A") == 0 && strcmp(m, "O") == 0){
		printf("{A,O}");
	}else if(strcmp(f, "O") == 0 && strcmp(m, "A") == 0){
		printf("{A,O}");
	}else if(strcmp(f, "B") == 0 && strcmp(m, "O") == 0){
		printf("{B,O}");
	}else if(strcmp(f, "O") == 0 && strcmp(m, "B") == 0){
		printf("{B,O}");
	}else if(strcmp(f, "O") == 0 && strcmp(m, "O") == 0){
		printf("{O}");
	}else if(strcmp(f, "AB") == 0 && strcmp(m, "AB") == 0){
		printf("{A,AB,B}");
	}else if(strcmp(f, "AB") == 0 && strcmp(m, "A") == 0){
		printf("{A,AB,B}");
	}else if(strcmp(f, "A") == 0 && strcmp(m, "AB") == 0){
		printf("{A,AB,B}");
	}else if(strcmp(f, "AB") == 0 && strcmp(m, "B") == 0){
		printf("{A,AB,B}");
	}else if(strcmp(f, "B") == 0 && strcmp(m, "AB") == 0){
		printf("{A,AB,B}");
	}else if(strcmp(f, "AB") == 0 && strcmp(m, "O") == 0){
		printf("{A,B}");
	}else if(strcmp(f, "O") == 0 && strcmp(m, "AB") == 0){
		printf("{A,B}");
	}
}

void FindFather(char f[], char k[])
{
	if(strcmp(f, "A") == 0 && strcmp(k, "A") == 0){
		printf("{A,AB,B,O}");
	}else if(strcmp(f, "A") == 0 && strcmp(k, "B") == 0){
		printf("{AB,B}");
	}else if(strcmp(f, "B") == 0 && strcmp(k, "A") == 0){
		printf("{A,AB}");
	}else if(strcmp(f, "B") == 0 && strcmp(k, "B") == 0){
		printf("{A,AB,B,O}");
	}else if(strcmp(f, "A") == 0 && strcmp(k, "O") == 0){
		printf("{A,B,O}");
	}else if(strcmp(f, "O") == 0 && strcmp(k, "A") == 0){
		printf("{A,AB}");
	}else if(strcmp(f, "B") == 0 && strcmp(k, "O") == 0){
		printf("{A,B,O}");
	}else if(strcmp(f, "O") == 0 && strcmp(k, "B") == 0){
		printf("{AB,B}");
	}else if(strcmp(f, "O") == 0 && strcmp(k, "O") == 0){
		printf("{A,B,O}");
	}else if(strcmp(f, "AB") == 0 && strcmp(k, "AB") == 0){
		printf("{A,AB,B}");
	}else if(strcmp(f, "AB") == 0 && strcmp(k, "A") == 0){
		printf("{A,AB,B,O}");
	}else if(strcmp(f, "A") == 0 && strcmp(k, "AB") == 0){
		printf("{AB,B}");
	}else if(strcmp(f, "AB") == 0 && strcmp(k, "B") == 0){
		printf("{A,AB,B,O}");
	}else if(strcmp(f, "B") == 0 && strcmp(k, "AB") == 0){
		printf("{A,AB}");
	}else if(strcmp(f, "AB") == 0 && strcmp(k, "O") == 0){
		printf("impossible");
	}else if(strcmp(f, "O") == 0 && strcmp(k, "AB") == 0){
		printf("impossible");
	}
}

int main(void)
{
	char f[3], m[3], k[3];
	scanf("%s %s %s", f, m, k);
	if(strcmp(k, "?") == 0){
		printf("%s %s ", f, m);
		PrintPhenotype(f, m);
	}else if(strcmp(m, "?") == 0){
		printf("%s ", f);
		FindFather(f, k);
		printf(" %s", k);
	}else if(strcmp(f, "?") == 0){
		FindFather(m, k);
		printf(" %s %s", m, k);
	}
	
	return 0;
}
```
{% endcode %}
